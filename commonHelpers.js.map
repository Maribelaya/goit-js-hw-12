{"version":3,"file":"commonHelpers.js","sources":["../src/main.js"],"sourcesContent":["// Описаний у документації\nimport iziToast from \"izitoast\";\n// Додатковий імпорт стилів\nimport \"izitoast/dist/css/iziToast.min.css\";\n\n// Описаний у документації\nimport SimpleLightbox from \"simplelightbox\";\n// Додатковий імпорт стилів\nimport \"simplelightbox/dist/simple-lightbox.min.css\";\n\n\n\n\nconst form = document.querySelector ('form');\nconst searchInput = document.querySelector ('input');\nconst galleryContainer = document.querySelector('.gallery');\nconst loaderElem = document.querySelector('.loader-container');\n\nconst lightbox = new SimpleLightbox('.gallery a', {\n    aptions: true,\n    captionType: 'attr',\n    captionsData: 'alt',\n    captionPosition: 'bottom',\n    fadeSpeed: 150,\n    captionSelector: \"img\",\n    captionDelay: 250,\n    });       \n    lightbox.on('show.simplelightbox');\n\n//Подія відправлення форми\nform.addEventListener('submit', event => {\n    event.preventDefault();\n    const searchValue = searchInput.value;\n    searchInput.value = '';\n    galleryContainer.innerHTML='';\n    getImages(searchValue);\n});\n\n//Пошук зображень\nfunction getImages(searchValue){\n    showLoader(); //Показати лоадер\n    const apiKey = \"42469788-7d7013196b534fb1bad6f4ac3\";\n    const url = `https://pixabay.com/api/?key=${apiKey}&q=${searchValue}&image_type=photo&orientation=horizontal&safesearch=true`;\n\n    fetch(url)\n    .then(response => {\n        if (response.ok) {\n            return response.json();\n        } else {\n            throw new Error(response.status);\n        }\n        \n    })\n\n    .then(data => { //Успішне виконання запиту\n        if (data.hits.length === 0) { //Відcутні зображення\n            iziToast.error({\n            timeout: 1000,\n            // transitionIn: 'fadeInUp',\n            message: \"Sorry, there are no images matching your search query. Please try again!\",\n            position: 'topRight',\n        });\n        }\n        else {  //Отримано зображення\n            const images = data.hits.\n            map(data => {\n                return `\n                <li class=\"gallery-item\"><a href=\"${data.largeImageURL}\">\n                <img class=\"gallery-image\" src=\"${data.webformatURL}\" alt=\"${data.tags}\"></a>\n                <ul class=\"gallery-image-data\">\n                <li class=\"data-quantity\"><b>Likes </b>${data.likes}</li>\n                <li class=\"data-quantity\"><b>Views </b>${data.views}</li>\n                <li class=\"data-quantity\"><b>Comments </b>${data.comments}</li>\n                <li class=\"data-quantity\"><b>Downloads </b>${data.downloads}</li>\n                </ul>\n                </li>`;\n            }).join('');\n\n            \n            //Відображення на сторінці\n        galleryContainer.insertAdjacentHTML(\"beforeend\", images);\n\n\n        lightbox.refresh();\n        }\n    })\n    .catch(error => {\n        console.log(error); //Помилка виконання запиту\n    })\n    .finally(() => {\n        hideLoader(); //Сховати loader\n    });\n}\n\nfunction showLoader() {\n    loaderElem.style.display = 'flex';\n}\n\nfunction hideLoader() {\n    loaderElem.style.display = 'none';\n}\n\n\n"],"names":["form","searchInput","galleryContainer","loaderElem","lightbox","SimpleLightbox","event","searchValue","getImages","showLoader","url","response","data","iziToast","images","error","hideLoader"],"mappings":"6vBAaA,MAAMA,EAAO,SAAS,cAAe,MAAM,EACrCC,EAAc,SAAS,cAAe,OAAO,EAC7CC,EAAmB,SAAS,cAAc,UAAU,EACpDC,EAAa,SAAS,cAAc,mBAAmB,EAEvDC,EAAW,IAAIC,EAAe,aAAc,CAC9C,QAAS,GACT,YAAa,OACb,aAAc,MACd,gBAAiB,SACjB,UAAW,IACX,gBAAiB,MACjB,aAAc,GAClB,CAAK,EACDD,EAAS,GAAG,qBAAqB,EAGrCJ,EAAK,iBAAiB,SAAUM,GAAS,CACrCA,EAAM,eAAc,EACpB,MAAMC,EAAcN,EAAY,MAChCA,EAAY,MAAQ,GACpBC,EAAiB,UAAU,GAC3BM,EAAUD,CAAW,CACzB,CAAC,EAGD,SAASC,EAAUD,EAAY,CAC3BE,IAEA,MAAMC,EAAM,qEAA4CH,CAAW,2DAEnE,MAAMG,CAAG,EACR,KAAKC,GAAY,CACd,GAAIA,EAAS,GACT,OAAOA,EAAS,OAEhB,MAAM,IAAI,MAAMA,EAAS,MAAM,CAG3C,CAAK,EAEA,KAAKC,GAAQ,CACV,GAAIA,EAAK,KAAK,SAAW,EACrBC,EAAS,MAAM,CACf,QAAS,IAET,QAAS,2EACT,SAAU,UACtB,CAAS,MAEI,CACD,MAAMC,EAASF,EAAK,KACpB,IAAIA,GACO;AAAA,oDAC6BA,EAAK,aAAa;AAAA,kDACpBA,EAAK,YAAY,UAAUA,EAAK,IAAI;AAAA;AAAA,yDAE7BA,EAAK,KAAK;AAAA,yDACVA,EAAK,KAAK;AAAA,4DACPA,EAAK,QAAQ;AAAA,6DACZA,EAAK,SAAS;AAAA;AAAA,sBAG9D,EAAE,KAAK,EAAE,EAIdV,EAAiB,mBAAmB,YAAaY,CAAM,EAGvDV,EAAS,QAAO,CACf,CACT,CAAK,EACA,MAAMW,GAAS,CACZ,QAAQ,IAAIA,CAAK,CACzB,CAAK,EACA,QAAQ,IAAM,CACXC,GACR,CAAK,CACL,CAEA,SAASP,GAAa,CAClBN,EAAW,MAAM,QAAU,MAC/B,CAEA,SAASa,GAAa,CAClBb,EAAW,MAAM,QAAU,MAC/B"}